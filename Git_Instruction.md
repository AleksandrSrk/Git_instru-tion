# Работа с ГИТ 
## 1. Проверка наличия установленного GIT
В терминале выполнить команду `git version`. 

```Java
git version
```

Если git установлен, появится сообщение с версией программы. Иначе будет сообщение об ошибке.

## 2. Установка GIT
Загружаем последнюю версию git с сайта https://git-scm.com/downloads.
Устанавливаем с настройками по умолчанию.

## 3. Установка VS Code
Устанавливаем программу для работы с GIT https://code.visualstudio.com/

## 4. Настройка GIT
При первом использовании git нужно представиться. Для этого вводим в терминале программы VS Code две команды: 
```Java
Git config –gobal user.name “логин_пользователя”
Git config –gobal user.email “почта_пользователя”
```
## 5. Инициализация репозитория
1. Создаем папку на компьютере, где у нас будет храниться проект (после инициализации, git в этой папке будет отслеживать все файлы, которые в ней находятся).
2. Открываем эту папку в VS Code через File / Open Folder ![Screen](/Images/OpenFolder.png)
3. В терминале пишем команду `git init`. Происходит инициализация папки. В выбранной папке создается скрытая папка ".git"

## 6. Создание файла
Создаем новый файл для работы, с расширением .md. **ВАЖНО указать расширение при создании файла!**

Это можно сделать двумя способами:
> В терминале пишем команду `touch название_файла.md`

> В VS Code кликаем правой кнопкой мыши на пустом поле слева - New File. И пишем название_файла.md

## 7. Делаем коммит. 
1. Проверяем состояние созданного файла - добавлен ли он у нас на отслеживание в git. Для этого в терминале вводим команду: `git status`. В случае, если файл не добавлен, программа выдаст сообщение *Untracked files*. 
2. Добавляем файл на отслеживание командой `git add название_файла.md`
3. Делаем коммит файла с помощью команды `git commit -m "краткое_описание_коммита"`
4. Проверяем текущий статус git командой `git status`. Программа должна выдать *nothing to commit, working tree clean*

> Две команды `git add название_файла.md` и `git commit -m "краткое_описание_коммита"` можно заменить одной `git commit -a -m "краткое_описание_коммита"` в случае, когда хотим добавить на отслеживание и закоммитить все файлы из инициализированной папки. **ВАЖНО!!! Данная команда не добавляет новые файлы, только ранее добавленные.**

## 8. Проверка истории изменений.
Чтобы проверить историю коммитов (изменений) файла, необходимо ввести команду `git log`. Программа выведет весь список коммитов с указанием даты коммита и автора изменений. Можно воспользоваться командой `git log --oneline` для вывода краткой истории изменений.  

>**ВАЖНО!!! Если список коммитов большой, может возникнуть ситуация, когда мы не можем выйти обычным путем из списка изменений. В таком случае листаем список до конца клавишей пробела, пока не увидим пометку END. После этого в английской раскладке клавиатуры необходимо нажать клавишу [q] для выхода из просмотра коммитов.**

## 9. Редактирование файла.
После того, как файл будет изменен каким либо образом (добавление текста и пр. ), его так же необходимо сперва добавить на отслеживание, а потом закоммитить, как это было указано в п. 7 [Инструкции](#7-делаем-коммит).

> Если необходимо увидеть разницу между текущим и закоммиченным файлом, поможет команда `git diff`

## 10. Переход между коммитами.
Чтобы перейти к состоянию файла, существующему на момент определенного коммита, необходимо выполнить:
1. Ввести команду `git log --oneline`, которая покажет нам список существующих коммитов файла. 
2. Выбрать семизначный хеш-код нужного коммита, скопировав его. 
3. Ввести команду `git checkout семизначный_хешномер_нужного_коммита`
4. Для возврата в актуальное состояние файла нужно ввести команду `git checkout master`, или ее аналог `git switch -`

## 11. Добавление изображения.
Для того, чтобы добавить изображение, необходимо в желаемом месте вставки ввести команду `![a](/b)`. Где *а* - это наименование изображения, а *b* - это ссылка на изображение, которую необходимо ввести через слеш. 
> Файл изображения удобнее всего помещать в папку с репозиторием. Однако сами файлы изображений не принято коммитить. Для этого необходимо добавить эти файлы в список игнорируемых (описание этого действия см. в следующем пункте).

## 12. Работа с ветками.

### 12.1 Создание веток. 
Для того, чтобы создать ветку, необходимо в терминале выполнить команду `git branch имя_ветки`. Таким образом создается новая ветка работы с файлом. 
Чтобы перейти на созданную ветку, воспользуемся командой `git checkout имя_ветки`.
> Чтобы одновременно создать новую ветку и сразу перейти в нее, можно воспользоваться командой `git checkout -b название_новой_ветки`. 

>Для того, чтобы переименовать уже созданную ветку, необходимо перейти в нее, затем выполнить команду `git branch -M новое_имя_ветки`

> C помощью команды `git branch` можно проверить список всех созданных веток и указатель текущей ветки.

После того, как новая ветка создана, мы можем продолжить работу с файлом. Не забываем как можно чаще делать коммиты. 

### 12.2 Слияние веток. 
Чтобы произвести слияние веток репозитория, необходимо перейти в ветку, в которую хотим произвести слияние командой `git checkout имя_ветки`, и ввести в терминале команду `git merge имя_ветки_которую_добавляем`. 
> Важно! Перед слиянием веток все изменения в файле должны быть закоммичены.

### 12.3 Конфликт слияния веток. 
При слиянии веток может возникнуть конфликт слияния веток. Такая ситуация возникает, когда в обеих ветках есть разница в введенных данных. В таком случае VS Code предлагает сделать выбор одного из четырех действий, с помощью отображенных кнопок:
![screenError](/Images/ErrorMerges.png)
* __Accept Current Change__ - Оставить версию файла из текущей ветки.
* __Accept Incoming Change__ - Оставить версию файла из добавляемой ветки.
* __Accept Both Change__ - Оставить обе версии файла из обеих веток.
* __Compare Change__ - Сравнить версии обеих веток.
> После выбора одной из версий изменения необходимо выполнить коммит слияния, как указано в в п. 7 [Инструкции](#7-делаем-коммит) 

### 12.4 Удаление ненужных веток.
Когда работа в определенной ветке завершена, ее можно удалить командой `git branch -d имя_удаляемой_ветки`. 
> ВАЖНО! Если удаляемая ветка не была слита с основной веткой master, при ее удалении программа выдаст ошибку удаления. Для корректно удаления ветки необходимо предварительно провести ее слияние с веткой master, как указано в п.п 12.2 [Инструкции](#122-слияние-веток). 

> Если, не смотря на невыполнение слияния веток, необходимо провести удаление, это можно сделать командой `git branch -D название_удаляемой_ветки`.

### 12.5 Визуализация дерева веток.
Чтобы просмотреть дерево веток в терминале, можно воспользоваться командой `git log --graph`, а так же ее вариацией `git log --oneline --graph` для просмотра дерева с сокращенными вариантами коммитов. 

## 13. Работа удаленными репозиториями.

Для работы с удаленным репозиторием, при участии в каком либо проекте, необходимо выполнить следующее:
1. Иметь авторизованный аккаунт на одном из сервисов хранения удаленных репозиториев (для примера будем рассматривать сервис github).
2. Найти и перейти в папку репозитория, с которым планируем работать.
3. Скопировать его на свой аккаунт с помощью кнопки fork.
4. После того, как скопировали репозиторий на свой аккаунт, переходим в копию, и, нажав на кнопку **code**, копируем ссылку репозитория. 
5. Далее переходим в терминал. С помощью команд терминала переходим в нужную папку на локальном компьютере.

```
pwd - выводит путь папки, в которой находимся сейчас
ls -просмотр содержимого папки, в которой находимся сейчас
cd - переход к корневой папке (user)
cd .. - поднимает вас на один уровень в файловой системе
cd ../.. - поднимает вас на два уровня в файловой системе
mkdir название_папки - создаёт папку в текущем месте
cd название_папки - переход в нужную папку

```
6. Убедившись, что мы находимся в нужной папке, клонируем репозиторий со своего аккаунта командой `git clone <ссылка>`
7. Командой `cd название_папки` переходим в склонированную папку. 
8. Командой `git status` убеждаемся в том, что мы находимся в нужном репозитории.
9. Создаем и переходим в свою ветку для работы в ней командой `git checkout -b название_новой_ветки`.
10. По завершению работы необходимо отправить изменения на свой аккаунт в github командой `git pull`. Если это происходит впервые, может выйти ошибка с предложением воспользоваться командой `git push -u origin main`. 
11. Далее переходим в github. Убедимся в добавлении созданных изменений и нашей новой веткой. Переходим в репозитории во вкладку Pull requests - New pull requests - выбираем параметр **compare название_своей_новой_ветки** - в появившемся окне вписываем коментарий для отправки репозитория в проект - отправляем.

## 14. Создание нового репозитория на Github и отправка локального репозитория.

Для того, чтобы создать репозиторий на Github, необходимо в верхнем правом углу нажать кнопку New repository, далее ввести имя репозитория и нажать кнопку Create.
Github предложит в помощь набор команд для того, чтобы создать новый репозиторий в командной строке / "запушить" локальный репозиторий / импортировать другой репозиторий. 
Рассмотрим второй вариант. Для этого вводим в локальном терминале поочередно предложенные команды:
```
git remote add origin <ссылка на созданный репозиторий на гитхаб> - команда связывает локальный репозиторий с созданным.
git branch -M main - команда переименовывает основную ветку (master), в ветку main. Это необходимо для того, чтобы названия основных веток на Github и в локальном репозитории совпадали.
git push -u origin main - команда отправляет локальный репозиторий в репозиторий гитхаб. В последующие "пуши" можно пользоваться командой `git push`
```